syntax = "proto3";

package roq.proto;

import "google/protobuf/timestamp.proto";

// enums

import "action.proto";
import "buffer_capacity.proto";
import "category.proto";
import "connection_status.proto";
import "data_source.proto";
import "encoding.proto";
import "error.proto";
import "execution_instruction.proto";
import "filter.proto";
import "interval.proto";
import "liquidity.proto";
import "margin_mode.proto";
import "option_type.proto";
import "order_cancel_policy.proto";
import "order_management.proto";
import "order_status.proto";
import "order_type.proto";
import "origin.proto";
import "position_effect.proto";
import "precision.proto";
import "priority.proto";
import "protocol.proto";
import "quantity_type.proto";
import "rate_limit_type.proto";
import "request_id_type.proto";
import "request_status.proto";
import "request_type.proto";
import "route_request_status.proto";
import "security_type.proto";
import "side.proto";
import "state.proto";
import "statistics_type.proto";
import "support_type.proto";
import "time_in_force.proto";
import "trading_status.proto";
import "transport.proto";
import "update_action.proto";
import "update_reason.proto";
import "update_type.proto";

// helpers

import "bar.proto";
import "fill.proto";
import "layer.proto";
import "leg.proto";
import "mbo_update.proto";
import "mbp_update.proto";
import "measurement.proto";
import "parameter.proto";
import "position.proto";
import "quote.proto";
import "rate_limit.proto";
import "risk_limit.proto";
import "route.proto";
import "statistics.proto";
import "tick_size_step.proto";
import "trade.proto";

// messages

// add_market ???
// add_routes ???
// batch_begin ???
// batch_end ???
import "cancel_all_orders.proto";
import "cancel_all_orders_ack.proto";
import "cancel_order.proto";
import "cancel_quotes.proto";
import "cancel_quotes_ack.proto";
import "create_order.proto";
import "custom_matrix.proto";
import "custom_matrix_update.proto";
import "custom_metrics.proto";
import "custom_metrics_update.proto";
import "download_begin.proto";
import "download_end.proto";
import "external_latency.proto";
import "funds_update.proto";
import "gateway_settings.proto";
import "gateway_status.proto";
import "market_by_order_update.proto";
import "market_by_price_update.proto";
import "market_status.proto";
import "mass_quote.proto";
import "mass_quote_ack.proto";
import "modify_order.proto";
import "order_ack.proto";
import "order_update.proto";
import "parameters_update.proto";
import "portfolio.proto";
import "portfolio_update.proto";
import "position_update.proto";
import "rate_limit_trigger.proto";
import "rate_limits_update.proto";
// ready ???
import "reference_data.proto";
// remove_routes ???
import "risk_limits.proto";
import "risk_limits_update.proto";
// route_ack ???
import "statistics_update.proto";
import "stream_status.proto";
import "time_series_update.proto";
import "top_of_book.proto";
import "trade_summary.proto";
import "trade_update.proto";

message Message {
  oneof value {
    CancelAllOrders cancel_all_orders = 1;
    CancelAllOrdersAck cancel_all_orders_ack = 2;
    CancelOrder cancel_order = 3;
    CancelQuotes cancel_quotes = 4;
    CancelQuotesAck cancel_quotes_ack = 5;
    CreateOrder create_order = 6;
    CustomMatrix custom_matrix = 7;
    CustomMatrixUpdate custom_matrix_update = 8;
    CustomMetrics custom_metrics = 9;
    CustomMetricsUpdate custom_metrics_update = 10;
    DownloadBegin download_begin = 11;
    DownloadEnd download_end = 12;
    ExternalLatency external_latency = 13;
    FundsUpdate funds_update = 14;
    GatewaySettings gateway_settings = 15;
    GatewayStatus gateway_status = 16;
    MarketByOrderUpdate market_by_order_update = 17;
    MarketByPriceUpdate market_by_price_update = 18;
    MarketStatus market_status = 19;
    MassQuote mass_quote = 20;
    MassQuoteAck mass_quote_ack = 21;
    ModifyOrder modify_order = 22;
    OrderAck order_ack = 23;
    OrderUpdate order_update = 24;
    ParametersUpdate parameters_update = 25;
    Portfolio portfolio = 26;
    PortfolioUpdate portfolio_update = 27;
    PositionUpdate position_update = 28;
    RateLimitTrigger rate_limit_trigger = 29;
    RateLimitsUpdate rate_limits_update = 30;
    ReferenceData reference_data = 31;
    RiskLimits risk_limits = 32;
    RiskLimitsUpdate risk_limits_update = 33;
    StatisticsUpdate statistics_update = 34;
    StreamStatus stream_status = 35;
    TimeSeriesUpdate time_series_update = 36;
    TopOfBook top_of_book = 37;
    TradeSummary trade_summary = 38;
    TradeUpdate trade_update = 39;
  }
}

message SourceInfo {
  uint64 seqno = 1;
  google.protobuf.Timestamp send_time_utc = 2;
  google.protobuf.Timestamp create_time_utc = 3;
  google.protobuf.Timestamp send_time = 4;
  google.protobuf.Timestamp create_time = 5;
}

message Event {
  SourceInfo source_info = 1;
  Message message = 2;
}
